parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"q8p1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchItemById=exports.fetchPage=exports.prefix=exports.baseURL=void 0;const e="https://www.omdbapi.com/?apikey=4cdcc311";exports.baseURL=e;const t="https://cors-anywhere.herokuapp.com/";exports.prefix=t;const o=async(o,s=1)=>{try{const r=await fetch(`${t}${e}&type=series&page=${s}&s=${o}`);return await r.json()}catch(c){console.log(c)}};exports.fetchPage=o;const s=async t=>{try{const s=await fetch(`${e}&plot=full&i=${t}`);return await s.json()}catch(o){console.log(o)}};exports.fetchItemById=s;
},{}],"qtSM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.messageBottom=exports.loader=exports.resultsList=exports.filtersForm=exports.showFiltersButton=exports.resetFiltersButton=exports.ratingInput=exports.yearInput=exports.sortBySelect=exports.resultsInfo=exports.submitButton=exports.inputField=void 0;const t=document.getElementById("input-field");exports.inputField=t;const e=document.getElementById("submit-button");exports.submitButton=e;const s=document.getElementById("results-info");exports.resultsInfo=s;const o=document.getElementById("sort-by");exports.sortBySelect=o;const r=document.getElementById("year-input");exports.yearInput=r;const n=document.getElementById("rating-input");exports.ratingInput=n;const u=document.getElementById("reset-filters");exports.resetFiltersButton=u;const l=document.getElementById("show-filters");exports.showFiltersButton=l;const m=document.getElementById("form-filters");exports.filtersForm=m;const p=document.getElementById("results");exports.resultsList=p;const d=document.getElementById("loader");exports.loader=d;const i=document.getElementById("message-bottom");exports.messageBottom=i;
},{}],"KaES":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resetFilters=exports.filter=void 0;var e=require("./DOMElements");const t=()=>{const t=document.querySelectorAll(".list-element"),r=e.yearInput.value,a=e.ratingInput.value?e.ratingInput.value:0;t.forEach(e=>{const t=e.getAttribute("data-year"),n=isNaN(e.getAttribute("data-rating"))?0:parseFloat(e.getAttribute("data-rating"));t.includes(r)&&n>=a?e.classList.remove("hidden"):e.classList.add("hidden")})};exports.filter=t;const r=()=>{e.yearInput.value="",e.ratingInput.value="",t()};exports.resetFilters=r,e.yearInput.addEventListener("keyup",t),e.ratingInput.addEventListener("keyup",t),e.resetFiltersButton.addEventListener("click",()=>{event.preventDefault(),r()});
},{"./DOMElements":"qtSM"}],"pWhk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toggleFilters=exports.displayMessage=exports.hideLoader=exports.showLoader=exports.clearResultsList=exports.resetLayout=void 0;var e=require("./DOMElements"),s=require("./filters");const t=()=>{e.resultsInfo.innerText="",e.messageBottom.innerText="",e.messageBottom.classList.add("hidden"),r(),(0,s.resetFilters)(),e.sortBySelect.value="Default"};exports.resetLayout=t;const r=()=>{e.resultsList.innerHTML=""};exports.clearResultsList=r;const o=()=>{e.resultsList.classList.remove("items--empty"),e.loader.classList.remove("hidden")};exports.showLoader=o;const i=()=>{e.loader.classList.add("hidden")};exports.hideLoader=i;const l=(e,s)=>{s.innerText=e,s.classList.remove("hidden")};exports.displayMessage=l;const a=()=>{e.filtersForm.classList.toggle("hidden")};exports.toggleFilters=a,e.showFiltersButton.addEventListener("click",a);
},{"./DOMElements":"qtSM","./filters":"KaES"}],"pM3u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderItem=exports.renderItems=void 0;var e=require("./DOMElements");const t=(e,t,n)=>{e.slice(t,Math.min(n,e.length)).forEach(e=>s(e))};exports.renderItems=t;const s=({Title:t,Poster:s,Year:n="N.D.",imdbRating:i="N.D.",Plot:a,Awards:d,Genre:c="N.D.",Runtime:l="N.D.",totalSeasons:r="N.D."})=>{let m;if(a.length<=100)m=a;else if("N/A"===a)m="Description not available.";else{const e=a.substring(0,100);m=`${e.substring(0,e.lastIndexOf(" "))} [...]`}const p=document.createElement("li");p.setAttribute("data-year",n.substring(0,4)),p.setAttribute("data-rating",i),p.classList.add("list-element");const o=document.createElement("div");o.classList.add("item"),p.appendChild(o);const u=document.createElement("div");u.classList.add("item__image-wrapper"),o.appendChild(u);const _=document.createElement("div");_.classList.add("item__text-wrapper"),o.appendChild(_);const h=document.createElement("div");h.classList.add("item__overlay"),u.appendChild(h);const x=document.createElement("p");x.classList.add("item__type"),x.innerText="Total seasons:",h.appendChild(x);const E=document.createElement("p");E.classList.add("item__desc"),E.innerText=r,h.appendChild(E);const L=document.createElement("p");L.classList.add("item__type"),L.innerText="Runtime:",h.appendChild(L);const C=document.createElement("p");C.classList.add("item__desc"),C.innerText=l,h.appendChild(C);const g=document.createElement("p");g.classList.add("item__type"),g.innerText="Plot:",h.appendChild(g);const T=document.createElement("p");T.classList.add("item__desc"),T.innerText=m,h.appendChild(T);const b=document.createElement("img");b.classList.add("item__image"),b.setAttribute("src",s),b.setAttribute("onerror","this.src ='https://dummyimage.com/250x375/000/fff.jpg&text=No+image+avalaible';"),b.setAttribute("alt",t),u.appendChild(b);const f=document.createElement("span");f.classList.add("item__rating"),f.innerText=i,u.appendChild(f);const v=document.createElement("p");v.classList.add("item__title"),v.innerText=t,_.appendChild(v);const y=document.createElement("p");if(y.classList.add("item__title-info"),y.innerText=`${n.substring(0,4)} | ${c.split(",").slice(0,2).join(",")}`,_.appendChild(y),"N/A"!==d){const e=document.createElement("span");e.classList.add("item__award"),e.innerHTML='<i class="fas fa-trophy"></i>',u.appendChild(e);const t=document.createElement("p");t.classList.add("item__type"),t.innerText="Awards:",h.appendChild(t);const s=document.createElement("p");s.classList.add("item__desc"),s.innerText=d,h.appendChild(s)}e.resultsList.appendChild(p)};exports.renderItem=s;
},{"./DOMElements":"qtSM"}],"Ze3J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeActionOnScroll=exports.addActionOnScroll=exports.handleOnScroll=void 0;var e=require("./index");const o=()=>{const o=document.documentElement.scrollHeight-window.innerHeight,n=window.scrollY;Math.ceil(n)===o&&(0,e.renderPage)()};exports.handleOnScroll=o;const n=()=>{window.addEventListener("scroll",o)};exports.addActionOnScroll=n;const r=()=>{window.removeEventListener("scroll",o)};exports.removeActionOnScroll=r;
},{"./index":"QvaY"}],"LZbs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sortBy=void 0;const e=(e,t)=>{const a=[...e];let s;switch(t){case"Z-A":s=a.sort((e,t)=>t.Title.localeCompare(e.Title));break;case"A-Z":s=a.sort((e,t)=>e.Title.localeCompare(t.Title));break;case"Highest rating":s=a.sort((e,t)=>{const a=isNaN(e.imdbRating)?0:parseFloat(e.imdbRating);return(isNaN(t.imdbRating)?0:parseFloat(t.imdbRating))-a});break;case"Lowest rating":s=a.sort((e,t)=>{return(isNaN(e.imdbRating)?0:parseFloat(e.imdbRating))-(isNaN(t.imdbRating)?0:parseFloat(t.imdbRating))});break;case"Earliest release":s=a.sort((e,t)=>{return new Date(e.Released)-new Date(t.Released)});break;case"Latest release":s=a.sort((e,t)=>{const a=new Date(e.Released);return new Date(t.Released)-a});break;default:s=a}return s};exports.sortBy=e;
},{}],"QvaY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderPage=void 0;var e=require("./fetchFunctions"),t=require("./DOMActions"),r=require("./DOMElements"),s=require("./Item"),a=require("./onScroll"),l=require("./filters"),o=require("./sort");const i=12;let n;const c=()=>{n={currPageApp:0,currPageAPI:0,keyword:"",items:[],totalResults:null}};c(),r.submitButton.addEventListener("click",()=>{event.preventDefault(),r.inputField.value&&((0,t.resetLayout)(),c(),n.keyword=r.inputField.value,g())}),r.sortBySelect.addEventListener("change",()=>{(0,t.clearResultsList)(),(0,t.clearResultsList)(),(0,s.renderItems)((0,o.sortBy)(n.items,r.sortBySelect.value),0,12*n.currPageApp),(0,l.filter)()});const u=(e,t,r,s)=>Math.min(12*r,e)>s.length+t.length,d=(e,t)=>parseInt(t)>=e.length,g=async()=>{(0,t.showLoader)();try{(0,a.removeActionOnScroll)(g);let{currPageApp:c,currPageAPI:h,items:p,keyword:m,totalResults:y}=n;switch(c++,p.length){case parseInt(y):n={...n,currPageApp:c};break;default:let s=await(0,e.fetchPage)(m,++h);switch(s.Response){case"True":y||(y=s.totalResults,(0,t.displayMessage)(`Found ${y} results for '${m}'`,r.resultsInfo));let{Search:l}=s;if(u(y,l,c,p)&&d(l,y)){const{Search:t}=await(0,e.fetchPage)(m,++h);l=[...l,...t]}const o=await Promise.all(l.map(t=>(0,e.fetchItemById)(t.imdbID)));p=[...p,...o],d(l,y)&&(0,a.addActionOnScroll)(g),n={...n,currPageAPI:h,currPageApp:c,items:p,totalResults:y};break;case"False":return(0,t.displayMessage)(`Your search "${n.keyword}" did not match any series. Please try again.`,r.resultsList),void(0,t.hideLoader)()}}switch(r.sortBySelect.value){case"Default":(0,s.renderItems)(p,12*(c-1),Math.min(12*c,y));break;default:(0,t.clearResultsList)(),(0,s.renderItems)((0,o.sortBy)(p,r.sortBySelect.value),0,Math.min(12*c,y))}(0,l.filter)(),(0,t.displayMessage)(`Showing ${Math.min(12*c,p.length)} of ${y} total results`,r.messageBottom)}catch(i){console.log(i),(0,t.resetLayout)(),(0,t.displayMessage)("Oops! Something went wrong. Please try again",r.messageBottom)}(0,t.hideLoader)()};exports.renderPage=g;
},{"./fetchFunctions":"q8p1","./DOMActions":"pWhk","./DOMElements":"qtSM","./Item":"pM3u","./onScroll":"Ze3J","./filters":"KaES","./sort":"LZbs"}]},{},["QvaY"], null)
//# sourceMappingURL=js.814c870b.js.map